/**
 * Created by aesop on 2016/2/2.
 */
    'use strict';
const should = require('chai').should;
const path = require('../lib/path'),
    part = require('../lib/os').partedSymbol,
    os = require('os');

describe('custom extending path module', function(){
    describe('#listFiles', function(){
        it('should return all files', function(){
            let root = 'test' + part + 'files';
            let result = ['test.txt', 't' + part + '1.txt'].map(x=> root +part + x).sort();
            path.listFiles(root).sort().should.deep.equal(result);
        })
    });
    describe('#toOsSpecifiedPath', function(){

        it('should return system specified path', function(){
            let input = [
                'a/b/c',
                'a\\b\\c'
            ];
            let expect;
            if(os.platform() === 'win32'){
                 expect = ['a\\b\\c', 'a\\b\\c'].sort();
            }
            else{
                expect = ['a/b/c', 'a/b/c'].sort();
            }
            input.map(path.toOsSpecifiedPath).sort().should.deep.equal(expect);
        })

    })
})